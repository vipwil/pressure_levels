name: Auto Reply Service Request
on:
  issues:
    types: [opened]
    labels: ['service-request']

jobs:
  auto-comment:
    runs-on: ubuntu-latest
    permissions:
      issues: write
    steps:
    - name: æ·»åŠ è‡ªåŠ¨å›å¤
      uses: actions/github-script@v6
      with:
        script: |
          const issueBody = context.payload.issue.body;
          const stressLevel = (issueBody.match(/â­ï¸{1,5}/g) || [])[0] || 'â­ï¸';
          
          github.rest.issues.createComment({
            issue_number: context.issue.number,
            owner: context.repo.owner,
            repo: context.repo.repo,
            body: `ğŸš¨ æ£€æµ‹åˆ°${stressLevel.length}çº§å‹åŠ›äº‹ä»¶ï¼\n\né¢„è®¡å“åº”æ—¶æ•ˆï¼š${Math.max(6, 24 - stressLevel.length*3)}å°æ—¶å†…`
          })
